# Configuração do pytest
[tool:pytest]
# Diretório de testes
testpaths = tests

# Padrão de busca de arquivos de teste
python_files = test_*.py

# Padrão de busca de classes de teste
python_classes = Test*

# Padrão de busca de funções de teste
python_functions = test_*

# Adicionar o diretório src ao path
pythonpath = .

# Opções padrão do pytest
addopts =
    # Modo verboso
    -v
    # Mostrar traceback curto
    --tb=short
    # Mostrar summary de falhas
    -ra
    # Capturar output
    --capture=no
    # Warnings como erros (descomente para modo strict)
    # -W error
    # Mostrar prints mesmo em testes que passaram
    -s
    # Coverage (descomente para habilitar)
    # --cov=src
    # --cov-report=html
    # --cov-report=term-missing

# Markers customizados
markers =
    integration: Testes de integração que usam TestClient
    unit: Testes unitários que não dependem de HTTP
    slow: Testes que demoram mais para executar
    auth: Testes relacionados à autenticação
    denuncias: Testes relacionados a denúncias
    fiscalizacao: Testes relacionados a fiscalização

# Configurações de warnings
filterwarnings =
    # Ignorar warnings de bibliotecas externas
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
