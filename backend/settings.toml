# ============================================================================
# CONFIGURAÇÕES BASE DO PROJETO GEOBOT PLATAFORMA
# ============================================================================
# Este arquivo contém configurações NÃO SENSÍVEIS compartilhadas entre ambientes
# Para configurações sensíveis (senhas, tokens), use .secrets.local.toml
# Para configurações locais específicas, use settings.local.toml
# ============================================================================

[default]
# ----------------------------------------------------------------------------
# Configurações da Aplicação
# ----------------------------------------------------------------------------
app_name = "Geobot Plataforma Backend"
app_version = "0.1.0"
debug = false
host = "0.0.0.0"
port = 8000

# ----------------------------------------------------------------------------
# Configurações do Banco de Dados (valores padrão)
# ----------------------------------------------------------------------------
db_host = "localhost"
db_port = 5433
db_name = "geobot_platform"
db_user = "geobot_user"
db_pool_size = 10        # Número de conexões no pool
db_max_overflow = 20     # Conexões extras permitidas além do pool
db_pool_pre_ping = true  # Testa conexão antes de usar (evita conexões mortas)
db_echo = false          # Se true, mostra queries SQL no console

# ----------------------------------------------------------------------------
# Migrations
# ----------------------------------------------------------------------------
auto_run_migrations = true  # Executar migrations automaticamente ao iniciar

# ----------------------------------------------------------------------------
# Segurança e Autenticação
# ----------------------------------------------------------------------------
jwt_algorithm = "HS256"
jwt_expiration_minutes = 1440           # Tempo de validade do token (24 horas)
refresh_token_expiration_days = 7       # Tempo de validade do refresh token (7 dias)
max_sessoes_simultaneas = 5             # Máximo de sessões ativas por usuário
password_min_length = 8                 # Tamanho mínimo de senha
tentativas_login_max = 5                # Máximo de tentativas de login antes de bloquear
tempo_bloqueio_minutos = 30             # Tempo em que o usuário fica bloqueado após tentativas falhas

# ----------------------------------------------------------------------------
# Upload de Arquivos
# ----------------------------------------------------------------------------
max_file_size_mb = 10
allowed_extensions = [".jpg", ".jpeg", ".png", ".pdf"]
upload_folder = "uploads"

# ----------------------------------------------------------------------------
# Logging
# ----------------------------------------------------------------------------
log_level = "INFO"
log_format = "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# ----------------------------------------------------------------------------
# CORS - Necessário para comunicação Frontend/Backend
# ----------------------------------------------------------------------------
cors_enabled = true
cors_allow_origins = ["http://localhost:3000"]
cors_allow_credentials = true  # Permite envio de cookies/tokens
cors_allow_methods = ["*"]     # Permite GET, POST, PUT, DELETE, etc
cors_allow_headers = ["*"]     # Permite todos os headers

# ============================================================================
# AMBIENTE: DESENVOLVIMENTO
# ============================================================================
[development]
debug = true
db_echo = true
log_level = "DEBUG"

# ============================================================================
# AMBIENTE: PRODUÇÃO
# ============================================================================
[production]
debug = false
db_echo = false
log_level = "WARNING"

# ============================================================================
# AMBIENTE: TESTES
# ============================================================================
[testing]
db_name = "geobot_platform_test"
debug = true
log_level = "DEBUG"
